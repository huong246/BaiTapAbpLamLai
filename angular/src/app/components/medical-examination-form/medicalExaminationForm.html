<div class="medical-form-container">
  <!-- Status Bar -->
  <div class="status-bar" [ngClass]="connectionStatus">
    <div class="status-indicator">
      <span class="dot"></span>
      <span class="text">SignalR: {{ connectionStatus }}</span>
    </div>

    <div class="processing-status" *ngIf="processingStatus">
      <span class="spinner"></span>
      <span>{{ processingStatus }}</span>
    </div>

    <button class="btn-test" (click)="testConnection()">Test Connection</button>
  </div>

<!--  bang thong tin-->
  <form [formGroup]="medicalForm" class="medical-form">
<!--    dong 1-->
    <div class="bang-thong-tin">
      <div class="group">
        <div class="name">
          <div class="grid-item input">
            <input type="text" placeholder="">
          </div>
          <div class="mach">
            <div class="grid-item label" [class.updated]="isFieldUpdated('pulse')">M·∫°ch</div>
            <div class="grid-item input">
              <input type="text" formControlName="pulse" placeholder="(l·∫ßn/ph√∫t)">
            </div>
          </div>
        </div>
        <div class="group-3" [class.updated]="isFieldUpdated('bloodPressure')">
          <div class="grid-item label">Huy·∫øt √Åp</div>
          <div class="grid-item input">
            <input type="text" formControlName="bloodPressure" placeholder="(mmHg)">
          </div>
        </div>
        <div class="group-2">
          <div class="grid-item label" [class.updated]="isFieldUpdated('reasonForVisit')">L√Ω do kh√°m</div>
          <div class="grid-item input ">
            <input type="text" formControlName="reasonForVisit" placeholder="">
          </div>
        </div>

      </div>

      <div  class="group">
        <!--    dong-2-->
        <div class="group-1">
          <div class="grid-item label">Gi·ªõi t√≠nh</div>
          <div class="grid-item input">
            <input type="text" value="Nam">
          </div>
          <div class="grid-item label" [class.updated]="isFieldUpdated('breathingRate')">Nh·ªãp th·ªü</div>
          <div class="grid-item input">
            <input type="text" formControlName="breathingRate" placeholder="(l·∫ßn/ph√∫t)">
          </div>
        </div>
        <div class="group-1">
          <div class="grid-item label" [class.updated]="isFieldUpdated('height')">Chi·ªÅu cao</div>
          <div class="grid-item input">
            <input type="text" formControlName="height" placeholder="(Cm)">
          </div>
          <div class="grid-item label" [class.updated]="isFieldUpdated('weight')">C√¢n n·∫∑ng</div>
          <div class="grid-item input">
            <input type="text" formControlName="weight" placeholder="(Kg)">
          </div>
        </div>

        <div class="group-2">
          <div class="grid-item label">Phi·∫øu kh√°m</div>
          <div class="grid-item input ">
            <input type="text" >
          </div>
        </div>

      </div>

      <div class="group">
        <!-- D√≤ng 3-->
        <div class="group-1">
          <div class="grid-item label">Ng√†y sinh</div>
          <div class="grid-item input">
            <input type="text" value="2001">
          </div>
          <div class="grid-item label" [class.updated]="isFieldUpdated('temperature')">Nhi·ªát ƒë·ªô</div>
          <div class="grid-item input">
            <input type="text" formControlName="temperature" placeholder="(¬∞C)">
          </div>
        </div>
        <div class="group-1">
          <div class="grid-item label" [class.updated]="isFieldUpdated('bmi')">BMI</div>
          <div class="grid-item input">
            <input type="text" formControlName="bmi" placeholder="">
          </div>
          <div class="grid-item label" [class.updated]="isFieldUpdated('waistline')">V√≤ng b·ª•ng</div>
          <div class="grid-item input">
            <input type="text" formControlName="waistline" placeholder="(Cm)">
          </div>
        </div>
        <div class="group-2">
          <div class="grid-item label">B√°c s·ªπ kh√°m</div>
          <div class="grid-item input ">
            <input type="text">
          </div>
        </div>

      </div>
    </div>

    <div class="tien-su-benh-su">
      <div class="tien-su">
        <div class="form-chung">
          <label [class.updated]="isFieldUpdated('personalHistory')">Ti·ªÅn s·ª≠ b·∫£n th√¢n</label>
          <textarea formControlName="personalHistory" rows="3"
                    placeholder="Nh·∫≠p ti·ªÅn s·ª≠ b·∫£n th√¢n.."></textarea>
        </div>
        <div class="form-chung">
          <label [class.updated]="isFieldUpdated('familyHistory')">Ti·ªÅn s·ª≠ gia ƒë√¨nh</label>
          <textarea formControlName="familyHistory" rows="3"
                    placeholder="Nh·∫≠p ti·ªÅn s·ª≠ gia ƒë√¨nh..."></textarea>
        </div>
        <div class="form-chung">
          <label [class.updated]="isFieldUpdated('allergyHistory')">Ti·ªÅn s·ª≠ d·ªã ·ª©ng</label>
          <textarea formControlName="allergyHistory" rows="3"
                    placeholder="Nh·∫≠p ti·ªÅn s·ª≠ d·ªã ·ª©ng..."></textarea>
        </div>
        <div class="form-chung">
          <label [class.updated]="isFieldUpdated('otherIssues')">V·∫•n ƒë·ªÅ kh√°c</label>
          <textarea formControlName="otherIssues" rows="3"></textarea>
        </div>
      </div>
      <div class="benh-su">
        <div class="form-chung">
          <label [class.updated]="isFieldUpdated('medicalHistory')">B·ªánh s·ª≠</label>
          <textarea formControlName="medicalHistory" rows="4"
                    placeholder="Nh·∫≠p b·ªánh s·ª≠..."></textarea>
        </div>
        <div class="form-chung">
          <label [class.updated]="isFieldUpdated('bodyExamination')">To√†n th√¢n</label>
          <textarea formControlName="bodyExamination" rows="3"
                    placeholder="Kh√°m to√†n th√¢n..."></textarea>
        </div>
        <div class="form-chung">
          <label [class.updated]="isFieldUpdated('partExamination')">B·ªô ph·∫≠n</label>
          <textarea formControlName="partExamination"
                    placeholder="Kh√°m b·ªô ph·∫≠n..."></textarea>
        </div>
        <div class="form-chung">
          <label [class.updated]="isFieldUpdated('initialDiagnosis')">Chu·∫©n ƒëo√°n ban ƒë·∫ßu</label>
          <textarea formControlName="initialDiagnosis"
                    placeholder="Chu·∫©n ƒëo√°n ban ƒë·∫ßu..."></textarea>
        </div>
      </div>
    </div>

    <div class="local-3">
      <div class="form-local-3">
        <label [class.updated]="isFieldUpdated('leftEyeDegree')">ƒê·ªô c·∫≠n MT</label>
        <input type="text" formControlName="leftEyeDegree" >
      </div>
      <div class="form-local-3">
        <label [class.updated]="isFieldUpdated('rightEyeDegree')">ƒê·ªô c·∫≠n MP</label>
        <input type="text" formControlName="rightEyeDegree">
      </div>
      <div class="form-local-3">
        <label>Gi√° tr·ªã ki·ªÉu s·ªë nguy√™n(nguy√™n)</label>
        <input type="text" >
      </div>
      <div class="form-local-3">
        <label [class.updated]="isFieldUpdated('fetalHeart')">Tim thai</label>
        <input type="text" formControlName="fetalHeart">
      </div>

    </div>

    <div class="local-4">
      <div class="left-local">
        <div class="form-local-3">
          <label>M√£ b·ªánh ch√≠nh ICD-10</label>
          <input type="text" placeholder="Nh·∫≠p m√£, t√™n b·ªánh ch√≠nh ICD 10...">
        </div>
        <div class="form-local-3">
          <label>M√£ b·ªánh ph·ª• ICD-10</label>
          <input type="text" placeholder="Nh·∫≠p m√£, t√™n b·ªánh ph·ª• ICD 10...">
        </div>
        <div class="table-section">
          <div class="table-header">
            <div>M√£</div>
            <div>T√™n</div>
          </div>
          <div class="table-body" id="tableBody">
            <div class="empty-state" id="emptyState">
<!--              <div class="icon">üìã</div>-->
              <img src="./assets/images/component/folder.png" alt="Empty" class="empty-img">
              <div class="text">Kh√¥ng c√≥ d·ªØ li·ªáu</div>
            </div>
            <div id="resultList" class="hidden"></div>
          </div>
        </div>
      </div>
      <div class="right-local">
        <div class="top-local">
          <div class="form-chung">
            <label [class.updated]="isFieldUpdated('diseaseProgress')">Di·ªÖn bi·∫øn b·ªánh</label>
            <textarea  placeholder="Di·ªÖn bi·∫øn b·ªánh..." ></textarea>
          </div>
          <div class="form-chung">
            <label>T√≥m t·∫Øt CLS <a href="#">(Xem k·∫øt qu·∫£)</a></label>
            <textarea
              placeholder="T√≥m tt cls..."></textarea>
          </div>
        </div>
        <div class="bottom-local">
          <div class="form-chung">
            <label [class.updated]="isFieldUpdated('finalDiagnosis')">Chu·∫©n ƒëo√°n</label>
            <textarea placeholder="Chu·∫©n ƒëo√°n..."></textarea>
          </div>
          <div class="form-chung">
            <label [class.updated]="isFieldUpdated('treatment')">Ph∆∞∆°ng ph√°p ƒëi·ªÅu tr·ªã</label>
            <textarea placeholder="Ph∆∞∆°ng ph√°p ƒëi·ªÅu tr·ªã..."></textarea>
          </div>
        </div>

        <div class="result-local">
          <div class="form-local-3">
            <span>K·∫øt qu·∫£ kh√°m</span>
            <select formControlName="resultType">
              <option value="...">...</option>
            </select>
          </div>
          <div class="form-local-3">
            <span>Lo·∫°i h√¨nh kh√°m</span>
            <select>
              <option value="...">...</option>
            </select>
          </div>
          <div class="form-chung1">
            <span>Ghi ch√∫</span>
            <textarea placeholder="..."></textarea>
          </div>
        </div>

        <div class="return-local">
          <div class="form-local-3">

            <div class="local-kham-lai">
              <div class="form-local-3">
                <label>Kh√°m l·∫°i sau</label>
                <input type="text" placeholder="S·ªë ng√†y">
              </div>
              <div class="thoi-gian-kham-lai">
                <label>Ng√†y kh√°m l·∫°i</label>
                <div class="lich-kham-lai">
                  <input
                    type="date"
                    id="dateInput"
                    class="date-input"
                    placeholder="dd/mm/yyyy">
                  <div class="time-picker">
                    <input
                      type="time"
                      formControlName="revisitTime"
                      class="time-input"
                    >
                  </div>
                </div>
              </div>

            </div>

            <div class="form-chung">
              <label>L·ªùi d·∫∑n</label>
              <textarea placeholder="L·ªùi d·∫∑n..."></textarea>
            </div>
          </div>

          <div class="form-chung1">
            <label>N·ªôi dung kh√°m l·∫°i</label>
            <textarea placeholder="..."></textarea>
          </div>
        </div>

      </div>
    </div>

    <div class="form-actions">
      <button type="button" class="btn-save">
        <i class="fa fa-save"></i> <span>L∆∞u th√¥ng tin</span>
      </button>
    </div>

  </form>


</div>
